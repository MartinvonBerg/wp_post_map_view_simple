if(void 0===g_wp_postmap_path)var g_wp_postmap_path="";!function(window,document,$,undefined){"use strict";var numberOfboxes;if(1==document.querySelectorAll("[id=map10_img]").length){let mobile=/iphone|ipod|android|webos|ipad|iemobile|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());var touren=new Array;$("a").each((function(index,value){var geodata=this.dataset.geo;if(geodata&&2==(geodata=geodata.split(",")).length){for(var j=0;j<2;j++){var par=geodata[j].split(":");geodata[j]=parseFloat(par[1])}isNaN(geodata[0])||isNaN(geodata[1])||(touren[index]=new Object,touren[index].excerpt=this.text.replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," "),touren[index].link=this.dataset.link,touren[index].img=this.href,touren[index].title=this.dataset.title.replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," "),touren[index].category=this.dataset.icon,touren[index].coord=geodata)}}));var icnh=32,icnw=32,myIcon1=L.icon({iconUrl:g_wp_postmap_path+"hiking2.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon2=L.icon({iconUrl:g_wp_postmap_path+"mountainbiking-3.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon3=L.icon({iconUrl:g_wp_postmap_path+"cycling.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon4=L.icon({iconUrl:g_wp_postmap_path+"MTB.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon5=L.icon({iconUrl:g_wp_postmap_path+"peak2.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon6=L.icon({iconUrl:g_wp_postmap_path+"skiing.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),myIcon7=L.icon({iconUrl:g_wp_postmap_path+"campingcar.png",iconSize:[32,32],iconAnchor:[0,0],popupAnchor:[0,0]}),layer1=new L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'MapData:&copy; <a href="https://www.openstreetmap.org/copyright">OSM</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | MapStyle:&copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),layer2=new L.tileLayer("http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/ {y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),layer3=new L.tileLayer("https://tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),layer4=new L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:19,attribution:"Tiles &copy; Esri &mdash; Source: Esri User Community"});mobile&&(layer1.options.attribution=layer2.options.attribution,layer3.options.attribution=layer2.options.attribution,layer4.options.attribution=layer2.options.attribution);var mapOptions={center:[48,12],zoom:10,zoomControl:!1,layers:[layer1]},baseMaps={OpenStreetMap:layer2,OpenTopoMap:layer1,"Bike-Hike-Map":layer3,Satellit:layer4},map=new L.map("map",mapOptions),scale,controlZoom;if(L.control.scale().addTo(map),!mobile)new L.Control.Zoom({position:"topleft"}).addTo(map);var LayerSupportGroup=L.markerClusterGroup.layerSupport(),group1=L.layerGroup(),group2=L.layerGroup(),group3=L.layerGroup(),group4=L.layerGroup(),group5=L.layerGroup(),group6=L.layerGroup(),group7=L.layerGroup(),control=L.control.layers(baseMaps,null,{collapsed:!0}),i,a,title;LayerSupportGroup.addTo(map);var marker=new Array,nposts=[0,0,0,0,0,0,0],j=0,icn,grp;touren.forEach(tour=>{switch(tour.category){case"hiking":icn=myIcon1,grp=group1,nposts[0]=nposts[0]+1;break;case"bike-hike":icn=myIcon2,grp=group2,nposts[1]=nposts[1]+1;break;case"cycling":icn=myIcon3,grp=group3,nposts[2]=nposts[2]+1;break;case"MTB":icn=myIcon4,grp=group4,nposts[3]=nposts[3]+1;break;case"mountain":icn=myIcon5,grp=group5,nposts[4]=nposts[4]+1;break;case"skiing":icn=myIcon6,grp=group6,nposts[5]=nposts[5]+1;break;case"travel":default:icn=myIcon7,grp=group7,nposts[6]=nposts[6]+1}marker.push(new L.Marker(tour.coord,{title:tour.title,icon:icn})),marker[j].bindPopup('<a href="'+tour.link+'"><b>'+tour.title+'</b><br><img src="'+tour.img+'">'+tour.excerpt+"</a>"),marker[j].addTo(grp),j++}),LayerSupportGroup.checkIn([group1,group2,group3,group4,group5,group6,group7]),control.addOverlay(group1,'<img class="layerIcon" src="'+g_wp_postmap_path+'hiking2.png"/> Wandern ('+nposts[0]+")"),control.addOverlay(group2,'<img class="layerIcon" src="'+g_wp_postmap_path+'mountainbiking-3.png"/> Bike-Hike ('+nposts[1]+")"),control.addOverlay(group3,'<img class="layerIcon" src="'+g_wp_postmap_path+'cycling.png"/> Radfahren ('+nposts[2]+")"),control.addOverlay(group4,'<img class="layerIcon" src="'+g_wp_postmap_path+'MTB.png"/> MTB ('+nposts[3]+")"),control.addOverlay(group5,'<img class="layerIcon" src="'+g_wp_postmap_path+'peak2.png"/> Bergtour ('+nposts[4]+")"),control.addOverlay(group6,'<img class="layerIcon" src="'+g_wp_postmap_path+'skiing.png"/> Skitour ('+nposts[5]+")"),control.addOverlay(group7,'<img class="layerIcon" src="'+g_wp_postmap_path+'campingcar.png"/> Reisebericht ('+nposts[6]+")"),control.addTo(map),group1.addTo(map),group2.addTo(map),group3.addTo(map),group4.addTo(map),group5.addTo(map),group6.addTo(map),group7.addTo(map);var bounds=L.latLngBounds();marker.forEach(m=>{let lat_lng=m._latlng;bounds.extend(lat_lng)}),map.fitBounds(bounds,{padding:[50,50]}),L.Control.Watermark=L.Control.extend({onAdd:function(map){var img=L.DomUtil.create("img");return img.src=g_wp_postmap_path+"lupe_p_32.png",img.style.background="white",img.style.width="32px",img.style.height="32px",img.style.cursor="pointer",img.title="Alles anzeigen",img.onclick=function(){map.fitBounds(bounds,{padding:[50,50]}),map.removeLayer(group1),map.addLayer(group1),map.removeLayer(group2),map.addLayer(group2),map.removeLayer(group3),map.addLayer(group3),map.removeLayer(group4),map.addLayer(group4),map.removeLayer(group5),map.addLayer(group5),map.removeLayer(group6),map.addLayer(group6),map.removeLayer(group7),map.addLayer(group7)},img},onRemove:function(map){}}),L.control.watermark=function(opts){return new L.Control.Watermark(opts)},L.control.watermark({position:"topleft"}).addTo(map),LayerSupportGroup.on("clustermouseover",(function(a){var children=a.layer.getAllChildMarkers(),names=[],string="",max=children.length;for(max>10&&(max=10),i=0;i<max;i++)names.push(children[i].options.title),string=string+"- "+children[i].options.title+"<br>";children.length>max&&(string+="...u.v.m...."),a.propagatedFrom.bindTooltip(string).openTooltip()})),LayerSupportGroup.on("clustermouseout",(function(a){a.propagatedFrom.bindTooltip("").closeTooltip()})),L.Control.Layers.include({getOverlays:function(){var control,layers,activemaplayer;return layers={},(control=this)._layers.forEach((function(obj){var layerName;obj.overlay||(layerName=obj.name,layers[layerName]=control._map.hasLayer(obj.layer),layers[layerName]&&(activemaplayer=layerName))})),activemaplayer}}),$(window).on("resize",(function(){var or=window.orientation,h=window.screen.availHeight,w=window.screen.availWidth;if(null==or){var divwidth,divhgt=.8*$(".box1").width();divhgt<400&&(divhgt=400),$("#map").height(divhgt)}else 0==or||180==or?$("#map").height(.75*w):$("#map").height(.5*h);map.invalidateSize()})).trigger("resize"),map.on("baselayerchange",(function(){var activeLayer;switch(control.getOverlays()){case"OpenStreetMap":$(".leaflet-container").css("background","#b9d3dc");break;case"OpenTopoMap":$(".leaflet-container").css("background","#97d2e3");break;case"Bike-Hike-Map":$(".leaflet-container").css("background","#c8e4fa");break;case"Satellit":$(".leaflet-container").css("background","#071e40");break;default:$(".leaflet-container").css("background","lightgrey")}})),$(window).on("load",(function(){var activeLayer=control.getOverlays(),or=window.orientation,h=window.screen.availHeight,w=window.screen.availWidth;if(null==or){var divwidth,divhgt=.8*$(".box1").width();divhgt<400&&(divhgt=400),$("#map").height(divhgt)}else 0==or||180==or?$("#map").height(.75*w):$("#map").height(.5*h);switch(map.fitBounds(bounds,{padding:[50,50]}),map.invalidateSize(),activeLayer){case"OpenStreetMap":$(".leaflet-container").css("background","#b9d3dc");break;case"OpenTopoMap":$(".leaflet-container").css("background","#97d2e3");break;case"Bike-Hike-Map":$(".leaflet-container").css("background","#c8e4fa");break;case"Satellit":$(".leaflet-container").css("background","#071e40");break;default:$(".leaflet-container").css("background","lightgrey")}}))}}(window,document,jQuery);
//# sourceMappingURL=wp_post_map_view_simple.min.js.map